<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />

    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>

    <title>GCELT Database</title>
  </head>
  <body>
    <div class="root">
        <div class="dropdown create-panel">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              Create
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/student.html?action=create">Create Student</a></li>
              <li><a class="dropdown-item" href="/teacher.html?action=create">Create Teacher</a></li>
              <li><a class="dropdown-item" href="/employee.html?action=create">Create Employee(Non-Teacher)</a></li>
            </ul>
          </div>

        <div id="student-panel"></div>
        <div id="teacher-panel"></div>
        <div id="employee-panel"></div>
    </div>
  </body>

  <script src="./js/index.js"></script>
  <script>
    const studentPanel = document.getElementById('student-panel');
const teacherPanel = document.getElementById('teacher-panel');
const employeePanel = document.getElementById('employee-panel');

let studentData = [];
let teacherData = [];
let employeeData = [];

const URL = {
    'student' : "https://college-database-backend.herokuapp.com/student",
    'teacher' : "https://college-database-backend.herokuapp.com/teacher",
    'employee' : "https://college-database-backend.herokuapp.com/nonTeacher"
}

const getData = async (type) => {
    const res = await (await(fetch(URL[type]))).json();

    console.log(res);
}


const populate = (data,element) => {

}


window.addEventListener('load',async () => {
    studentData = await getData('student');
    teacherData = await getData('teacher');
    employeeData = await getData('employee');

    populate(studentData,studentPanel);
    populate(teacherData,teacherPanel);
    populate(employeeData,employeePanel);
})
  </script>
</html>
